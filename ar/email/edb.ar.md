{
  "date" : "2019-10-11",
  "author" : {
    "display_name" : "Kashif Iqbal"
} ,
  "draft" : "false",
  "toc" : true,
  "title" :"تنسيق ملف EDB - ملف قاعدة بيانات بريد Exchange" ,
  "description":"تعرف على تنسيق ملف EDB وواجهات برمجة التطبيقات التي يمكنها إنشاء ملفات EDB وفتحها." ,
  "linktitle" : "EDB",
  "menu" : {
    "docs" : {
      "parent" : "email"
}
} ,
  "lastmod" : "2020-09-16"
}

## ما هو ملف EDB؟

الملف بملحق الملف .edb هو قاعدة بيانات علبة البريد التي تم إنشاؤها بواسطة Microsoft Exchange Server لتخزين البيانات المتعلقة بالبريد. EDB ، قاعدة بيانات Exchange ، يخزن الرسائل قيد المعالجة وغير SMTP. تُعرف EDB أيضًا باسم ملفات قاعدة بيانات محرك التخزين الموسع (ESE) وتخزين الملفات باستخدام بنية b-tree. نظرًا لكونها ملفات تخزين ، يمكن تحويل ملفات EDB إلى تنسيقات ملفات تخزين البريد الأخرى مثل [PST](/ar/email/pst/) و [OST](/ar/email/ost/).

## تنسيق ملف EDB

لا توجد مواصفات تنسيق ملف EDB رسمية / مفتوحة متاحة يمكن الرجوع إليها. تم إحراز بعض التقدم في الهندسة العكسية لتنسيق الملف ، مما أدى إلى فك تشفير جزئي للمواصفات. وفقًا لهذه ، يتكون ملف EDB من:
* رأس الملف - يحتوي على معلومات رأس ملف قاعدة البيانات
* صفحات ذات حجم ثابت - تحتوي على قاعدة البيانات التي تتكون من الجداول والفهارس

### رأس ملف قاعدة البيانات
يوجد رأس ملف قاعدة البيانات في صفحة قاعدة البيانات الأولى ولا يقل عن 668 بايت. يحتوي رأس الملف على "إصدار تنسيق الملف" و "نوع الملف" بالإضافة إلى الحقول الأخرى.

#### أنواع الملفات
| النوع | الوصف
---|---|
| 0 | قاعدة البيانات |
| 1 | الجري |

ملاحظة: المعرّفات الخاصة بهذه الأنواع غير معروفة.

#### إصدار تنسيق الملف
بدأ الشكل الأصلي لمجلس التنمية الاقتصادية في أبريل 1997 واستمر في التطور للتغييرات بعد ذلك.

| تاريخ النسخ | الإصدار | المراجعة | الوصف
---|---|---|---|
| أبريل 1997 | 0x00000620 | 0x00000000 | تنسيق بيتا الأصلي لنظام التشغيل. |
| مايو 1997 | 0x00000620 | 0x00000001 | أضف أعمدة في الكتالوج للفهرسة الشرطية والقديمة. |
| يونيو 1997 | 0x00000620 | 0x00000002 | أضف إشارة fLocalizedText في IDB.
| أكتوبر 1997 | 0x00000620 | 0x00000003 | إضافة SPLIT_BUFFER إلى مساحة صفحات جذر شجرة.
| يناير 1998 | 0x00000620 | 0x00000002 | قم بإعادة المراجعة لكي يظل ESE97 متوافقًا مع الأمام.
|| 0x00000620 | 0x00000003 | إضافة أعمدة جديدة ذات علامات تمييز إلى الكتالوج ("CallbackData و CallbackDependencies").
| مايو 1998 | 0x00000620 | 0x00000004 | دعم القيمة الفائقة (SLV): SignSLV ، fSLVExists في dbheader.
| مايو 1998 | 0x00000620 | 0x00000005 | شجرة فضاء SLV جديدة. |
| أكتوبر 1998 | 0x00000620 | 0x00000006 | خريطة مساحة SLV. |
| ديسمبر 1998 | 0x00000620 | 0x00000007 | IDXSEG 4 بايت. |
| يناير 1999 | 0x00000620 | 0x00000008 | تنسيق عمود القالب الجديد. |
| يونيو 1999 | 0x00000620 | 0x00000009 | أعمدة القوالب المصنفة. المستخدمة في Windows XP SP3 |
|| 0x00000620 | 0x0000000b | يحتوي على رأس الصفحة مع المجموع الاختباري لـ ECC المستخدم في Exchange |
|| 0x00000620 | 0x0000000c | مستخدم في Windows Vista (SP0) |
|| 0x00000620 | 0x00000011 | دعم لصفحات 2 كيلوبايت و 16 كيلوبايت و 32 كيلوبايت ورأس صفحة ممتدة مع مجاميع اختبارية إضافية لـ ECC وضغط العمود وتلميحات المسافات المستخدمة في Windows 7 (SP0) |
| مايو 1999 | 0x00000623 | 0x00000000 | مدير مساحة جديد. |

### ملفات قاعدة البيانات

يحتوي ملف قاعدة بيانات EDB على مخطط قاعدة البيانات لجميع الجداول في قاعدة البيانات. بالإضافة إلى ذلك ، يتضمن أيضًا سجلات لجميع جداول قاعدة البيانات وفهارس الجداول. يتم تحديد موقعه من خلال المعرفات التالية.

* JetCreateDatabase
* JetCreateDatabase2
* قاعدة بيانات JetAttach
* JetAttachDatabase2

بناءً على ذلك ، يمكن تقييم حالة قاعدة البيانات على النحو التالي.

| القيمة | المعرف | الوصف
---|---|---|
| 1 | JET_dbstateJustCreated | تم إنشاء قاعدة البيانات للتو. |
| 2 | JET_dbstateDirtyShutdown | تتطلب قاعدة البيانات استردادًا ثابتًا أو بسيطًا ليتم تشغيلها لتصبح قابلة للاستخدام أو قابلة للنقل. لا يجب محاولة نقل قواعد البيانات في هذه الحالة. |
| 3 | JET_dbstateCleanShutdown | قاعدة البيانات في حالة نظيفة. يمكن إرفاق قاعدة البيانات بدون أي ملفات سجل. |
| 4 | JET_dbstateBeingConverted | تتم ترقية قاعدة البيانات. |
| 5 | JET_dbstateForceDetachInternal | تم تقديم هذه القيمة في WindowsXP |
 

## مراجع
* [مواصفات ملف قاعدة بيانات محرك التخزين القابل للتوسيع (ESE)](https://github.com/libyal/libesedb/tree/master/documentation)

