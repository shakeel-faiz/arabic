{
  "date" : "2019-10-11",
  "keywords" :["M4V", "file", "extension", "format", "MPEG-4", "Digital Rights Management", "DRM", "Apple", "video"],
  "author" : {
    "display_name" : "Kashif Iqbal"
} ,
  "draft" : "false",
  "toc" : true,
  "title" :"M4V",
  "description":"تعرف على تنسيق ملف M4V وواجهات برمجة التطبيقات التي يمكنها إنشاء ملفات M4V وفتحها." ,
  "linktitle" : "M4V",
  "menu" : {
    "docs" : {
      "parent" : "video"
}
} ,
  "lastmod" : "2019-09-14"
}

## ما هو ملف M4V؟

تنسيق الملف ** M4V ** ، الذي طورته شركة Apple ، عبارة عن حاوية فيديو محمية بشكل اختياري بحماية النسخ من إدارة الحقوق الرقمية (DRM) لحماية الخصوصية أو النسخ. يتم التفاف مقاطع الفيديو والمسارات الصوتية حول ملفات الحاوية لفهرسة وتنظيم تدفقات التشغيل. بالإضافة إلى ذلك ، توفر الحاويات أيضًا ميزة الفصول المشابهة لتلك الموجودة على أقراص DVD. تستخدم Apple M4V لتشفير مقاطع الفيديو في متجر iTunes الخاص بها. إنه يحمي الاستنساخ غير المصرح به من خلال حماية النسخ FairPlay من Apple من خلال السماح بتشغيل ملفات M4V على أجهزة الكمبيوتر المصرح لها فقط التي تستخدم الحسابات لشراء الفيديو. ومع ذلك ، إذا تمت إزالة حماية DRM من ملفات M4V ، فيمكن تشغيل هذه الملفات في مشغلات الفيديو الأخرى عن طريق تغيير الامتداد من .m4v إلى .mp4 ، وهذا هو سبب ارتباط ملفات M4V بـ MPEG-4. يستخدم M4V H.264 للفيديو و ** [AAC](/ar/ audio / aac /) ** و Dolby Digital لترميز الصوت وفك تشفيره.

## هيكل ملف M4V ##

تحتوي ملفات M4V على أجزاء مستمرة برأس 8 بايت وحجم مقطع 4 بايت ونوع مقطع 4 بايت في كل قطعة. القطعة الأولى هي "ftype" ولها نوع فرعي عند الإزاحة 8. يتم تعريف M4V بالنوع الفرعي الذي يجب أن يكون "M4V_". أنواع القطع الإضافية هي توقيعات محددة مسبقًا: "ftyp" ، "mdat" ، "moov" ، "pnot" ، "udta" ، "uuid" ، "moof" ، "free" ، "skip" ، "jP2" ، "واسع" ، "تحميل" ، "ctab" ، "imap" ، "مات" ، "kmat" ، "clip" ، "crgn" ، "sync" ، "chap" ، "tmcd" ، "scpt" ، "ssrc" ، " الصورة ". تكرار الأجزاء ، حتى يتم اكتشاف نوع غير معروف ، نقوم بتكوين ملف M4V.

فيما يلي فحص لعينة: يتم فحص عينة من البيانات الثنائية لملف m4v من خلال Hex Viewer ويمكن ملاحظة أنها تبدأ بتوقيع ** ftyp ** (hex: 66 74 79 70) عند الإزاحة 4 ، والتي تحدد QuickTime نوع ملف الحاوية. نوع الملف الفرعي هو ** M4V _ ** (hex: 4D 34 56 20) والذي يشير إلى نوع الملف M4V (MPEG-4). حجم الكتلة الأولى هو 32 (hex: 00 00 00 20 ، كبير النهاية ، البايت العالي أولاً) ، الحجم الموجود عند الإزاحة 0. عند الإزاحة 32 (hex: 20) يقع الجزء الثاني ، الذي يبلغ حجمه 30322 (ست عشري) : 00 00 76 72 ، كبير النهاية ، بايت صغير أولاً) واكتب ** مووف ** (ست عشري: 6D 6F 6F 76). تقع القطعة التالية عند الإزاحة 32 + 30،322 # 30،354 (hex: 00 00 76 92) ولها حجم 8 (hex: 00 00 00 08) واكتب ** free ** (hex: 66 72 65 65).
### برامج الترميز المستخدمة في M4V ###

#### برنامج ترميز الفيديو H.264 ####

H.264 هو معيار لضغط الفيديو يحول الفيديو الرقمي إلى تنسيق يتطلب مساحة أقل عند النقل أو التخزين المطلوب. يستخدم M4V H.264 لضغط الفيديو. يتراوح تطبيقه من DVD ، والتلفزيون ، ومؤتمرات الفيديو ، وتدفق الفيديو عبر الإنترنت. يتكون H.264 من جزأين رئيسيين: التشفير - الذي يضغط الفيديو ، وحدة فك التشفير - التي تقوم بفك ضغط الفيديو المضغوط مرة أخرى. في الشكل أدناه ، يتم تمييز عمليات التشفير وفك التشفير ، ويتم تغطية العمليات الأخرى في معيار H.264.

##### عملية تشفير وفك تشفير الفيديو في H.264 #####

بالنسبة إلى تدفق البتات H.264 المضغوط ، يجري مشفر الفيديو عملية التنبؤ والتحويل والتشفير. في الوقت نفسه ، يقوم جهاز فك التشفير بتنفيذ العملية العكسية لفك التشفير والتحويل العكسي وإعادة البناء لإنتاج ملف الفيديو مرة أخرى. يأخذ H.264 نصف حجم MPEG.

#### ترميز الصوت ####

ترميز الصوت المتقدم (AAC) هو برنامج ترميز صوتي لضغط الصوت الرقمي المفقود ويستخدم في حاوية M4V. AAC هو خليفة تنسيق [MP3](/ar/ audio / mp3 /) ويحقق جودة أفضل من MP3 بنفس معدل البت. يتخلص تنسيق AAC من بعض المعلومات أثناء عملية الضغط ، والتي تكون أقل أهمية. AAC هو برنامج ترميز يعتمد على معدل البت المتغير (VBR) حيث تقوم كل كتلة بترميز 1024 عينة من المجال الزمني.

### مراجع ###

* [Wikipedia - M4V](https://en.wikipedia.org/wiki/M4V)
* [ويكيبيديا - MPEG-4_AVC](https://en.wikipedia.org/wiki/H.264/MPEG-4_AVC)

