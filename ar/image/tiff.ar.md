{
  "date" : "2019-10-11",
  "keywords" :["tiff file", "tiff file format", "what is a tiff file", "file", "tiff example", "tiff file extension", "extension", "format"],
  "author" : {
    "display_name" : "Kashif Iqbal"
} ,
  "draft" : "false",
  "toc" : true,
  "title" :"TIFF - تنسيق ملف الصورة" ,
  "description":"تعرف على تنسيق ملف TIFF وواجهات برمجة التطبيقات التي يمكنها إنشاء ملفات TIFF وفتحها." ,
  "linktitle" : "TIFF",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
} ,
  "lastmod" : "2019-09-10"
}

## ما هو ملف TIFF؟

TIFF أو TIF ، تنسيق ملف الصورة ذي العلامات ، يمثل الصور النقطية المخصصة للاستخدام على مجموعة متنوعة من الأجهزة التي تتوافق مع معيار تنسيق الملف هذا. إنه قادر على وصف بيانات الصورة ذات المستوى الثنائي ، والرمادي ، واللون الملون ، وبيانات الصور كاملة الألوان في العديد من مساحات الألوان. وهو يدعم أنظمة الضغط التي يتم فقدانها وكذلك بدون فقدان البيانات للاختيار بين المكان والزمان للتطبيقات التي تستخدم التنسيق. لا يعتمد التنسيق على الجهاز وخالي من الحدود مثل المعالج أو نظام التشغيل أو أنظمة الملفات.

## تاريخ موجز لتنسيق ملف TIFF

تم إنشاء تنسيق ملف TIFF في البداية بواسطة شركة Aldus في خريف عام 1986 ، بعد سلسلة من الاجتماعات مع العديد من مصنعي الماسحات الضوئية ومطوري البرامج. كان الغرض الأساسي من تنسيق ملف TIFF هو توفير تنسيق ملف صورة ممسوحة ضوئيًا مشتركًا لجميع بائعي الماسحات الضوئية المكتبية. بدءًا من دعم تنسيق الصورة الثنائية فقط ، تطور التنسيق لدعم الصور ذات التدرج الرمادي واللون مع مرور الوقت. يمكن تسمية الإصدار الأولي من مواصفات تنسيق ملف TIFF باسم Reivision 3.0 حيث كان هناك إصداران مسودان سابقان. تم نشر مراجعة رئيسية 5.0 في عام 1988 أضافت دعمًا للصور الملونة بالألوان وضغط LZW. تم نشر مراجعة 6.0 من تنسيقات ملفات TIFF في عام 1992 بعد ذلك. في عام 1994 ، استحوذت Adobe Systems على Aldus والمواصفات متاحة الآن وتحتفظ بها Adobe Systems.

## مواصفات تنسيق ملف TIFF

تنسيق ملف TIFF قابل للتوسيع وخضع لعدة مراجعات تسمح بإدراج كمية غير محدودة من المعلومات الخاصة أو ذات الأغراض الخاصة. يبدأ ملف TIFF برأس 8 بايت حيث يكون عدد البايتات من 0 إلى N. أكبر ملف TIFF ممكن هو 2 ** 32 بايت في الطول. يبدأ الملف برأس ملف صورة 8 بايت يشير إلى ملف صورة مباشرة (IFD). يحتوي IFD على معلومات حول الصورة بالإضافة إلى مؤشرات إلى بيانات الصورة الفعلية.

### رأس ملف TIFF

يحتوي رأس ملف TIFF 8 بايت على المعلومات التالية:

** البايت 0-1: ** ترتيب البايت المستخدم في الملف. القيم القانونية هي: “II” (4949.H) “MM” (4D4D.H).

في التنسيق "II" ، يكون ترتيب البايت دائمًا من البايت الأقل أهمية إلى البايت الأكثر أهمية ، لكل من الأعداد الصحيحة 16 بت و 32 بت وهذا يسمى ترتيب البايت الصغير. في تنسيق "MM" ، يكون ترتيب البايت دائمًا من الأكثر أهمية إلى الأقل أهمية ، لكل من الأعداد الصحيحة 16 بت و 32 بت. وهذا ما يسمى بترتيب البايت ذي الحجم الكبير.

** Bytes 2-3: ** رقم عشوائي ولكن تم اختياره بعناية (42) يحدد الملف كملف TIFF. يعتمد ترتيب البايت على قيمة البايت 0-1.

** البايت 4-7: ** الإزاحة (بالبايت) لأول IFD. قد يكون الدليل في أي مكان في الملف بعد الرأس ولكن يجب أن يبدأ عند حد الكلمة. على وجه الخصوص ، قد يتبع دليل ملفات الصور بيانات الصورة التي يصفها. يجب على القراء اتباع المؤشرات أينما يقودون. يُستخدم مصطلح إزاحة البايت دائمًا في هذا المستند للإشارة إلى موقع يتعلق ببداية ملف TIFF. البايت الأول من الملف له إزاحة 0.

### دليل ملفات الصور

يحتوي IFD على معلومات حول الصورة بالإضافة إلى مؤشرات إلى بيانات الصورة الفعلية .. ويتكون من عدد 2 بايت لعدد إدخالات الدليل (أي عدد الحقول) ، متبوعًا بتسلسل إدخالات حقل 12 بايت ، متبوعًا بإزاحة 4 بايت من IFD التالي (أو 0 إذا لم يكن هناك أي شيء). يجب أن يكون هناك IFD واحد على الأقل في ملف TIFF ويجب أن يكون لكل IFD إدخال واحد على الأقل.

#### إدخال IFD

كل إدخال IFD 12 بايت بالتنسيق التالي.


| بايت | الوصف
---|---|
| 0-1 | العلامة التي تعرّف الحقل
| 2-3 | نوع الحقل
| 4-7 | عدد النوع المشار إليه
| 8-11 | إزاحة القيمة ، إزاحة الملف (بالبايت) لقيمة الحقل. من المتوقع أن تبدأ القيمة عند حد كلمة ؛ وبالتالي ، فإن موازنة القيمة المقابلة ستكون عددًا زوجيًا. قد يشير إزاحة الملف هذا إلى أي مكان في الملف ، حتى بعد بيانات الصورة

حقل TIFF هو كيان منطقي يتكون من علامة TIFF وقيمتها. يتم تنفيذ هذا المفهوم المنطقي كإدخال IFD ، بالإضافة إلى القيمة الفعلية إذا لم يتناسب مع جزء القيمة / الإزاحة ، آخر 4 بايت من إدخال IFD. المصطلحات حقل TIFF وإدخال IFD قابلة للتبديل في معظم السياقات.

### خط الأساس TIFF ###

خط الأساس TIFF هو جوهر TIFF ، الأساسيات التي يجب على جميع مطوري TIFF الأساسيين دعمها في منتجاتهم. التوافق مع تنسيق TIFF يخضع للالتزام بمتطلبات خط الأساس TIFF. هذه المتطلبات موثقة جيدًا في وثيقة المواصفات 6.0.

#### صور متعددة لكل ملف ####

قد يكون هناك أكثر من IFD في ملف TIFF. يحدد كل IFD ملفًا فرعيًا. أحد الاستخدامات المحتملة للملفات الفرعية هو وصف الصور ذات الصلة ، مثل صفحات الإرسال بالفاكس. لا يُطلب من قارئ Baseline TIFF قراءة أي IFDs بخلاف الأول.

#### أنواع الصور ####

تحتوي صورة خط الأساس TIFF على الأنواع التالية:

** بيليفيل: ** تحتوي الصورة ثنائية المستوى على لونين - أبيض وأسود. يسمح TIFF للتطبيق بكتابة بيانات ثنائية المستوى بتنسيق white-is-zero أو black-is-zero. يسمى الحقل الذي يسجل هذه المعلومات ** PhotometricInterpretation **.

* RGB بالألوان الكاملة

معلومات التفسير للصور ثنائية المستوى هي كما يلي:

العلامة = 262 (106.H)
اكتب = SHORT
**قيم**

| القيمة | Decription |
---|---|
| 0 | للصور ثنائية المستوى وذات التدرج الرمادي: 0 يتم تصويره باللون الأبيض. يتم تصوير قيمة maxi-mum باللون الأسود. هذه هي القيمة العادية لضغط # 2 |
| 1 | BlackIsZero. للصور ثنائية المستوى وذات التدرج الرمادي: 0 يتم تصويره باللون الأسود. يتم تصوير قيمة maxi-mum باللون الأبيض. إذا تم تحديد هذه القيمة للضغط رقم 2 ، يجب عرض الصورة وطباعتها معكوسة. |

** GrayScale: ** الصور ذات التدرج الرمادي هي تعميم للصور ثنائية المستوى. يمكن للصور ثنائية المستوى تخزين بيانات الصورة بالأبيض والأسود فقط ، لكن الصور ذات التدرج الرمادي يمكنها أيضًا تخزين ظلال الرمادي. لوصف مثل هذه الصور ، يجب إضافة أو تغيير الحقول التالية. الحقول المطلوبة الأخرى هي نفسها تلك المطلوبة للصور ثنائية المستوى. للصور ذات التدرج الرمادي ، اضغط # 1 أو 32773 (PackBits). في Baseline TIFF ، يمكن تخزين الصور ذات التدرج الرمادي على هيئة بيانات غير مضغوطة أو ضغطها باستخدام خوارزمية PackBits.

معلومات ** BitsPerSample ** الخاصة بالصور الرمادية هي كما يلي:

العلامة = 258 (102.H)
اكتب = SHORT

عدد وحدات البت لكل مكون. القيم المسموح بها للصور ذات التدرج الرمادي Baseline TIFF هي 4 و 8 ، مما يسمح إما بـ 16 أو 256 ظلًا مميزًا للون الرمادي.

** Palette-Color: ** صور Palette-color تشبه الصور ذات التدرج الرمادي. لا يزال لديهم مكون واحد لكل بكسل ، ولكن يتم استخدام قيمة المكون كمؤشر في جدول بحث RGB كامل. لوصف مثل هذه الصور ، تحتاج إلى إضافة أو تغيير الحقول التالية. الحقول الأخرى المطلوبة هي نفسها تلك الخاصة بالصور ذات التدرج الرمادي.
معلومات التفسير الضوئي لصورة Palette-Color هي كما يلي:

PhotometricInterpretation = 3 (لوح الألوان).
ColorMapTag = 320 (140.H)
اكتب = SHORT
N = 3 * (2 بت لكل عينة)

يعرّف هذا الحقل خريطة اللون الأحمر والأخضر والأزرق (تسمى غالبًا جدول البحث) للصور الملونة باللوحة. في صورة لوحة الألوان ، يتم استخدام قيمة البكسل للفهرسة في جدول بحث RGB. على سبيل المثال ، سيتم عرض وحدة البكسل ذات لون لوح الألوان التي لها قيمة 0 وفقًا لثلاثية اللون الأحمر والأخضر والأزرق 0. في TIFF ColorMap ، تأتي جميع قيم الأحمر أولاً ، متبوعة بقيم الأخضر ، ثم القيم الزرقاء. في ColorMap ، يتم تمثيل الأسود بـ 0،0،0 ويمثل الأبيض 65535 ، 65535 ، 65535.

** RGB بالألوان الكاملة: ** في صورة RGB ، يتكون كل بكسل من ثلاثة مكونات: الأحمر والأخضر والأزرق. لا يوجد ColorMap لوصف صورة RGB ، تحتاج إلى إضافة أو تغيير الحقول والقيم التالية. الحقول الأخرى المطلوبة هي نفسها تلك المطلوبة للصور ذات ألوان لوح الألوان.

BitsPerSample = 8،8،8. يبلغ عمق كل مكون 8 بت في صورة Baseline TIFF RGB.

PhotometricInterpretation = 2 (RGB) ولا يوجد ColorMap.

العلامة = 277 (115.H)
اكتب = SHORT
عدد المكونات لكل بكسل. هذا الرقم هو 3 لصور RGB ، ما لم تكن هناك عينات إضافية.

## مراجع ##

* [تنسيق ملف TIFF - ويكيبيديا](https://en.wikipedia.org/wiki/TIFF)

