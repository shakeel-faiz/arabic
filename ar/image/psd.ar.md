{
  "date" : "2019-10-11",
  "keywords" :["ملف psd" , "تنسيق ملف psd" , "ما هو ملف psd" , "ملف" , "مثال psd" , "امتداد ملف psd" , "امتداد" , "تنسيق"] ,
  "author" : {
    "display_name" : "Kashif Iqbal"
} ,
  "draft" : "false",
  "toc" : true,
  "title" :"PSD - تنسيق ملف صورة Photoshop" ,
  "description":"تعرف على تنسيق ملف PSD وواجهات برمجة التطبيقات التي يمكنها إنشاء ملفات PSD وفتحها." ,
  "linktitle" : "PSD",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
} ,
  "lastmod" : "2019-09-10"
}

## ما هو ملف PSD؟

PSD ، Photoshop Document ، يمثل تنسيق الملف الأصلي لبرنامج Adobe Photoshop المستخدم لتصميم الرسومات وتطويرها. قد تتضمن ملفات PSD طبقات الصورة وطبقات الضبط وأقنعة الطبقة والتعليقات التوضيحية ومعلومات الملف والكلمات الأساسية والعناصر الأخرى الخاصة بـ Photoshop. ملفات Photoshop لها امتداد افتراضي مثل .PSD ولها أقصى ارتفاع وعرض 30000 بكسل ، وحد أقصى للطول يبلغ 2 غيغابايت.

## مواصفات تنسيق ملف PSD ##

يتم تخزين البيانات في ملف PSD بترتيب بايت كبير. هذا يعني تبديل الأعداد الصحيحة القصيرة والطويلة عند القراءة أو الكتابة على نظام Windows الأساسي. ينقسم تنسيق ملف Photoshop إلى خمسة أجزاء رئيسية. يحتوي على العديد من علامات الطول التي يمكن استخدامها للانتقال من قسم إلى آخر. عادة ما تكون علامات الطول مبطنة بالبايتات لتقريبها إلى أقرب فاصل 2 أو 4 بايت. الأجزاء الخمسة الرئيسية هي:

* رأس الملف
* بيانات وضع اللون
* موارد الصور
* معلومات الطبقة والقناع
* بيانات الصورة

للتوافق ، يجب كتابة البيانات على جميع هذه الحقول في القسم ، حيث قد يحاول Photoshop قراءة القسم بأكمله. كما يعني ضمناً كتابة الأصفار إلى الحقول التي تم تخطيها أثناء الكتابة إلى ملف. يجب استخدام حقل الطول في الأقسام المحددة بالطول لتحديد وقت إيقاف القراءة. في معظم الحالات ، يشير حقل الطول إلى عدد البايتات ، وليس السجلات ، التي تليها. يجب تذكر النقاط التالية أثناء قراءة الملف.

* القيم الموجودة في عمود "الطول" في جميع الجداول بالبايت.
* تتكون جميع القيم المحددة على أنها سلسلة Unicode من:
* حقل طوله 4 بايت ، يمثل عدد الأحرف في السلسلة (وليس بايت).
* سلسلة قيم Unicode ، وحدتا بايت لكل حرف.

### رأس الملف ###

يحتوي رأس الملف على الخصائص الأساسية للصورة.

| الطول | الوصف
---|---|
| 4 | التوقيع: يساوي دائمًا "8BPS". لا تحاول قراءة الملف إذا كان التوقيع لا يتطابق مع هذه القيمة.
| 2 | الإصدار: دائمًا يساوي 1. لا تحاول قراءة الملف إذا كان الإصدار لا يتطابق مع هذه القيمة. (~ * ~ * PSB ~ * ~ * الإصدار 2.)
| 6 | محجوز: يجب أن يكون صفرًا.
| 2 | عدد القنوات في الصورة ، بما في ذلك أي قنوات ألفا. النطاق المدعوم هو من 1 إلى 56.
| 4 | ارتفاع الصورة بالبكسل. النطاق المدعوم هو 1 إلى 30000.
| 4 | عرض الصورة بالبكسل. النطاق المدعوم هو 1 إلى 30000.
| 2 | العمق: عدد وحدات البت لكل قناة. القيم المدعومة هي 1 و 8 و 16 و 32.
| 2 | وضع لون الملف. القيم المدعومة هي: Bitmap # 0؛ تدرج الرمادي # 1 ؛ مفهرس # 2 ؛ RGB # 3 ؛ CMYK # 4 ؛ متعدد القنوات # 7 ؛ Duotone # 8 ؛ معمل # 9.

### قسم بيانات وضع اللون ###

تم تنظيم قسم بيانات وضع الألوان على النحو التالي:


| الطول | الوصف
---|---|
| 4 | طول بيانات اللون التالية
| متغير | بيانات اللون

تتوفر بيانات وضع اللون فقط للألوان المفهرسة واللون الثنائي كما هو محدد بواسطة حقل الوضع في قسم رأس الملف. بالنسبة لجميع الأوضاع الأخرى ، يتم تمثيل هذا القسم بقيم صفرية 4 بايت. بالنسبة للصور الملونة المفهرسة ، يكون الطول 768 وتحتوي بيانات الألوان على جدول ألوان الصورة ، بترتيب غير معشق. بالنسبة للصور ثنائية اللون ، تحتوي بيانات الألوان على مواصفات الدرجات الثنائية (تنسيقها غير موثق). يمكن للتطبيقات الأخرى التي تقرأ ملفات Photoshop معالجة صورة ثنائية اللون كصورة رمادية ، والاحتفاظ فقط بمحتويات معلومات الفرز الثنائي عند قراءة الملف وكتابته.

### قسم موارد الصور ###

يحتوي القسم الثالث من الملف على موارد الصور. يبدأ بحقل طول ، متبوعًا بسلسلة من كتل الموارد.


| الطول | الوصف
---|---|
| 4 | طول مقطع مورد الصورة. قد يكون الطول صفرًا.
| متغير | موارد الصورة (كتل موارد الصورة)

تُستخدم موارد الصور لتخزين البيانات غير البكسل المرتبطة بالصور مثل مسارات أداة القلم. يشار إليها باسم كتل الموارد لأنها تحتوي على البيانات التي تم تخزينها في مورد Macintosh في الإصدارات المبكرة من Photoshop. الهيكل الأساسي لكتل موارد الصور كما هو موضح أدناه:


| الطول | الوصف
---|---|
| 4 | التوقيع: "8BIM"
| 2 | المعرف الفريد للمورد. تحتوي معرفات موارد الصور على قائمة بمعرفات الموارد التي يستخدمها Photoshop.
| متغير | الاسم: سلسلة باسكال ، مبطن لجعل الحجم زوجي (اسم فارغ يتكون من وحدتي بايت من 0)
| 4 | الحجم الفعلي لبيانات المورد التالية
| متغير | بيانات الموارد الموضحة في الأقسام الخاصة بأنواع الموارد الفردية. إنه مبطن لجعل الحجم متساويًا.

تستخدم موارد الصور عدة أرقام تعريف قياسية.

### معلومات الطبقة والقناع ###

يحتوي القسم الرابع من ملف Photoshop على معلومات حول الطبقات والأقنعة مثل عدد الطبقات والقنوات الموجودة في الطبقات ونطاقات المزج ومفاتيح طبقة الضبط وطبقات التأثيرات ومعلمات القناع. إذا لم تكن هناك طبقات أو أقنعة ، فسيتم تمثيل هذا القسم بحقل 4 بايت صفري. يجب إيلاء اهتمام خاص لطول الأقسام أثناء قراءة هذا القسم بسبب القيم الصفرية. ترتيب قسم الطبقة والقناع على النحو التالي:


| الطول | الوصف
---|---|
| 4 | طول مقطع معلومات الطبقة والقناع. (طول PSB 8 بايت.)
| متغير | معلومات الطبقة
| متغير | معلومات قناع الطبقة العمومية
| متغير | سلسلة من الكتل ذات العلامات تحتوي على أنواع مختلفة من البيانات.

#### معلومات الطبقة ####

يوضح الجدول التالي التنظيم عالي المستوى لمعلومات الطبقة.


| الطول | الوصف
---|---|
| 4 | طول قسم معلومات الطبقات ، مقربًا إلى مضاعف 2. (طول PSB هو 8 بايت.)
| 2 | عدد الطبقات. إذا كان رقمًا سالبًا ، فإن قيمته المطلقة هي عدد الطبقات وتحتوي قناة ألفا الأولى على بيانات الشفافية للنتيجة المدمجة.
| متغير | معلومات حول كل طبقة. انظر سجلات الطبقة تصف بنية هذه المعلومات لكل طبقة.
| متغير | بيانات صورة القناة. يحتوي على واحد أو أكثر من سجلات بيانات الصورة لكل طبقة. تكون الطبقات بنفس الترتيب الموجود في معلومات الطبقة

### بيانات الصورة ###

يتم تضمين بيانات بكسل الصورة في قسم بيانات الصورة من الملف. يتم ترتيب البيانات في قسم بيانات الصورة بترتيب مستو ، أي أولاً جميع البيانات الحمراء ، ثم جميع البيانات الخضراء ، وما إلى ذلك. كما هو موضح في الجدول التالي.

| الطول | الوصف
---|---|
| 2 | طريقة الضغط: * 0 = بيانات الصورة الأولية * 1 = ضغط RLE تبدأ بيانات الصورة بعدد البايت لجميع خطوط المسح (الصفوف * القنوات) ، مع تخزين كل عدد كقيمة ثنائية البايت. تتبع البيانات المضغوطة RLE ، مع ضغط كل سطر مسح على حدة. ضغط RLE هو نفس خوارزمية الضغط المستخدمة بواسطة PackBits الروتينية لماكنتوش ROM ، ومعيار TIFF. * 2 = ZIP بدون توقع * 3 = ZIP مع التنبؤ.
| متغير | بيانات الصورة. الترتيب المستوي = RRR GGG BBB ، إلخ.

## مراجع ##

* [مواصفات تنسيق ملف PSD - بواسطة Adobe](https://www.adobe.com/devnet-apps/photoshop/fileformatashtml/#50577409_pgfId-1030196)
* [تنسيق ملف Adobe Photoshop](https://en.wikipedia.org/wiki/Adobe_Photoshop#File_format)

