{
  "date" : "2021-03-11",
  "keywords" :["APNX", "Amazon Page Number Index", "extension", "file", "format", "eBook", "Amazon Kindle"],
  "author" : {
    "display_name" : "Muhammad Umar"
} ,
  "draft" : "false",
  "toc" : true,
  "description":"تعرف على تنسيق ملف Amazon APNX وواجهات برمجة التطبيقات التي يمكنها إنشاء ملفات APNX وفتحها." ,
  "title" :"APNX - فهرس رقم صفحة أمازون" ,
  "linktitle" : "APNX",
  "menu" : {
    "docs" : {
      "parent" : "ebook"
}
} ,
  "lastmod" : "2021-05-28"
}

## ما هو ملف APNX؟ ##

يعد ملف فهرس رقم صفحة Amazon الذي يستخدم الملحق .apnx نوعًا من ملفات الكتب الإلكترونية ؛ يستخدمه أمازون كيندل. تُعرف هذه الملفات في الواقع باسم ملفات ترقيم الصفحات التي تستخدمها أجهزة Kindle. لذلك يتم إنشاء ملفات APNX عادةً لتمييز صفحات Kindle eBooks. بدأت ميزة ترقيم الصفحات على أجهزة Amazon Kindle منذ برنامجها الثابت 3.1. يبحث في ملف APNX لفهارس الصفحات ثم يقوم بتعيينه بأرقام الصفحات في كتاب الطباعة الأصلي. يتم حفظ هذه الملفات في أجهزة Kindle مع ملفات Amazon eBooks. لا يمكنك فتح ملفات APNX أو تحريرها.

## مواصفات تنسيق ملف APNX ##

### تَخطِيط

| بايت | المحتوى | التعليقات |
---|---|---|
| 4 | 00010001 | معرف التنسيق. قيمة 65537 ليتل إندان. |
| 4 | بداية | التالي الإزاحة بعد إنهاء موقع العنوان الأول. يبدأ تسلسل جديد لمعلومات الرأس |
| 4 | الطول | طول الرأس الأول |
| N | الرأس الأول | سلسلة تحتوي على رأس المحتوى. يبدأ التسلسل التالي |
| 2 | غير معروف | دائما 1 |
| 2 | الطول | طول الرأس الثاني |
| 2 | عدد الصفحات | العدد الإجمالي للبايتات بعد الرأس الثاني الذي يمثل الصفحات. يتضمن هذا الإجمالي وحدات البايت التي تم تجاهلها بواسطة خريطة الصفحة. |
| 2 | غير معروف | دائما 32 |
| N | الرأس الثاني | سلسلة تحتوي على رأس تعيين الصفحة |
| 4 * N | حشوة | يشير الرقم الأول المعطى في رأس تعيين الصفحة إلى عدد 0 بايت. |
| 4 * N | قائمة الصفحات ||

### رأس المحتوى

يتكون رأس المحتوى من سلسلة مضمنة في {} تحتوي على أزواج مفتاح وقيمة:

| المحتوى | التعليقات |
---|---|
| دليل المحتوى | دليل |
| asin | معرّف Amazon لإصدار Kindle من الكتاب. |
| cdeType | MOBI cdeType. يجب أن يكون دائمًا EBOK للكتب الإلكترونية. |
| fileRevisionId | مراجعة هذا الملف. |

#### مثال
```
{"contentGuid":"d8c14b0","asin":"B000JML5VM","cdeType":"EBOK","fileRevisionId":"1296874359405"}
```
### رأس تعيين الصفحة
يتكون رأس تعيين الصفحة من سلسلة مضمنة في {} تحتوي على أزواج من القيم والمفاتيح.

| المحتوى | التعليقات |
---|---|
| asin | رقم ISBN 10 للكتاب الورقي يتوافق مع |
| خريطة الصفحة | ثلاثة قيمة tuple. يبدو مثل: "(N، N، N) \
1) عدد البايتات بعد العنوان الذي يبدأ تسلسل ترقيم الصفحات \
2) غير معروف
3) غير معروف \ |
#### مثال
```
{"asin":"1906694184","pageMap":"(4,a,1)"}
```

### قائمة الصفحات

قائمة الصفحات عبارة عن سلسلة من الإزاحات في HTML الخام. كل
القيمة هي بداية صفحة جديدة. كل إدخال هو endian كبير 4 بايت
int.



## مراجع

* [تنسيق ملف Amazon APNX](https://nachtimwald.com/2011/02/09/amazon-apnx-file-format/)
* [APNX - بواسطة MobileRead Wiki](https://wiki.mobileread.com/wiki/APNX)

